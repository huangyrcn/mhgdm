# @package _global_
# configs/experiments/train_encoder.yaml

defaults: # 默认配置，会被后续的配置覆盖
  - /common/config  # 引用 configs/common/config.yaml
  - /data/Letter_high  # 默认数据集配置
  - /fsl_task/10shot  # 默认少样本学习任务配置
  - /encoder/G CN  # 默认编码器配置
  - _self_

# 实验配置
exp_name: "${data.name}_${encoder.layer_type}_encoder_train" # 实验名称
timestamp: ${now:%Y%m%d_%H%M%S} # 当前时间戳
run_name: ${exp_name}/${timestamp}  # 运行名称，自动组合实验名称和时间戳
debug: false # 是否开启调试模式

# 模型配置 - 直接在这里定义，而不是引用外部文件
model:
  model_type: "encoder"  # 模型类型
  encoder: ${encoder.layer_type}  # 从encoder配置中获取类型
  pred_edge: false  # 是否启用边预测任务

# 数据相关配置 (覆盖默认配置)
data:
  batch_size: 256 # 批处理大小

# 训练配置覆盖
train:
  num_epochs: 300  # 编码器训练轮数
  lr: 0.0005  # 学习率
  eval_interval: 20  # 每20个epoch评估一次
  weight_decay: 0.0001  # 权重衰减

seed: 4 # 随机种子
device: auto # 运行设备 (例如 "cuda", "cpu", "auto" 表示自动选择)
device_count: 1 # 使用的设备数量

